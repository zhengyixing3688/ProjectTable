(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-988d687c"],{"0e6d":function(t,o,e){"use strict";e.r(o);var i=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"booklist"},[t.showLoading?i("div",{staticClass:"loading"},[i("img",{attrs:{src:e("4045")}})]):t._e(),i("van-nav-bar",{attrs:{title:t.m,"left-text":"返回","left-arrow":""},on:{"click-left":t.back},scopedSlots:t._u([{key:"right",fn:function(){return[i("svg",{staticClass:"icon",attrs:{t:"1594949373600",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"15150",width:"24",height:"24"},on:{click:t.goMBooks}},[i("path",{attrs:{d:"M264.154 952.655H64.31V224.11h199.844v728.545h-0.001z m-34.2-691.413H98.816v67.142h131.14v-67.142z m96.516-196.7h198.267v888.045H326.47V64.542z m168.989 34.214H360.143v69.235h135.315V98.756z m459.399 794.012L764.845 954.68 539.126 261.973l190.01-61.912 225.722 692.707zM708.125 245.964L583.438 286.59l20.798 63.834 124.686-40.627-20.797-63.833z m0 0","p-id":"15151",fill:"#fff"}})])]},proxy:!0}])}),i("div",{staticClass:"books-list"},[i("van-list",{staticClass:"popup-list",attrs:{finished:t.load.finished,"finished-text":t.load.loadingMsg,offset:50},on:{load:t.onLoad},model:{value:t.load.loading,callback:function(o){t.$set(t.load,"loading",o)},expression:"load.loading"}},t._l(t.BooksArr,(function(o,e){return i("div",{key:e,staticClass:"books-item clearfix",on:{click:function(e){return t.clickSkip(o._id)}}},[i("div",{staticClass:"img-l fl"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgKey(o.cover),expression:"imgKey(item.cover)"}]})]),i("div",{staticClass:"books-r fl"},[i("h3",[t._v(t._s(o.title))]),i("div",{staticClass:"bos"},[i("span",[t._v(t._s(o.author))]),i("span",[t._v("|")]),i("span",[t._v(t._s(o.majorCate))])]),i("p",[t._v(t._s(o.shortIntro))]),i("div",{staticClass:"rq"},[i("span",{staticClass:"s1"},[t._v(" "+t._s(t.playCountParse(o.latelyFollower))+" "),i("span",[t._v("人气")])]),i("span",{staticClass:"s"},[t._v("|")]),i("span",{staticClass:"s1"},[t._v(" "+t._s(o.retentionRatio)+" "),i("span",[t._v("读者留存")])])])])])})),0)],1)],1)},a=[],n=(e("fb6a"),e("a434"),e("b680"),e("2909")),s={data:function(){return{g:this.$route.query.gender,m:this.$route.query.major,BooksArr:[],BooksArrData:[],showLoading:!1,loadCount:10,load:{loading:!0,finished:!1,loadingMsg:"数据加载完毕..."}}},methods:{InfoData:function(){var t=this;this.showLoading=!0,this.axios.get("http://novel.kele8.cn/category-info?gender="+this.g+"&type=hot&major="+this.m+"&minor=&start=0&limit=200").then((function(o){t.showLoading=!1,200==o.status&&(t.BooksArrData=o.data.books,t.BooksArr=t.BooksArrData.splice(0,t.loadCount),console.log(o),t.BooksArrData.length>0?t.load.loading=!1:(t.load.loading=!0,t.load.finished=!0),window.localStorage.setItem("BooksArr",JSON.stringify({expire:Date.now()+36e5,result:o.data.books}))),console.log(o,"-------resInfoData")})).catch((function(o){t.showLoading=!1,console.log(o,"======err")}))},onLoad:function(){var t=this;setTimeout((function(){var o;(o=t.BooksArr).push.apply(o,Object(n["a"])(t.BooksArrData.splice(0,t.loadCount))),t.load.loading=!1,0==t.BooksArrData.length&&(t.load.loading=!0,t.load.finished=!0),console.log(t.BooksArr.length,"-=")}),1e3)},imgKey:function(t){return unescape(t).slice(7)},playCountParse:function(t){return t>1e8?(t/1e8).toFixed(1)+"亿":t>5e3?(t/1e4).toFixed(1)+"万":void 0},clickSkip:function(t){this.$router.push({name:"Detail",query:{id:t}})},goMBooks:function(){this.$router.push({name:"MyBooks"})},back:function(){this.$router.push({name:"Home"})}},created:function(){this.InfoData();var t=JSON.parse(window.localStorage.getItem("BooksArr"));t&&t.expire>Date.now()?this.BooksArr=t.result:this.InfoData()}},r=s,l=(e("e521"),e("2877")),c=Object(l["a"])(r,i,a,!1,null,"aebde810",null);o["default"]=c.exports},1148:function(t,o,e){"use strict";var i=e("a691"),a=e("1d80");t.exports="".repeat||function(t){var o=String(a(this)),e="",n=i(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(o+=o))1&n&&(e+=o);return e}},"1e5d":function(t,o,e){},"408a":function(t,o,e){var i=e("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},b680:function(t,o,e){"use strict";var i=e("23e7"),a=e("a691"),n=e("408a"),s=e("1148"),r=e("d039"),l=1..toFixed,c=Math.floor,d=function(t,o,e){return 0===o?e:o%2===1?d(t,o-1,e*t):d(t*t,o/2,e)},u=function(t){var o=0,e=t;while(e>=4096)o+=12,e/=4096;while(e>=2)o+=1,e/=2;return o},f=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){l.call({})}));i({target:"Number",proto:!0,forced:f},{toFixed:function(t){var o,e,i,r,l=n(this),f=a(t),h=[0,0,0,0,0,0],g="",v="0",p=function(t,o){var e=-1,i=o;while(++e<6)i+=t*h[e],h[e]=i%1e7,i=c(i/1e7)},k=function(t){var o=6,e=0;while(--o>=0)e+=h[o],h[o]=c(e/t),e=e%t*1e7},m=function(){var t=6,o="";while(--t>=0)if(""!==o||0===t||0!==h[t]){var e=String(h[t]);o=""===o?e:o+s.call("0",7-e.length)+e}return o};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(o=u(l*d(2,69,1))-69,e=o<0?l*d(2,-o,1):l/d(2,o,1),e*=4503599627370496,o=52-o,o>0){p(0,e),i=f;while(i>=7)p(1e7,0),i-=7;p(d(10,i,1),0),i=o-1;while(i>=23)k(1<<23),i-=23;k(1<<i),p(1,1),k(2),v=m()}else p(0,e),p(1<<-o,0),v=m()+s.call("0",f);return f>0?(r=v.length,v=g+(r<=f?"0."+s.call("0",f-r)+v:v.slice(0,r-f)+"."+v.slice(r-f))):v=g+v,v}})},e521:function(t,o,e){"use strict";var i=e("1e5d"),a=e.n(i);a.a}}]);
//# sourceMappingURL=chunk-988d687c.9552924b.js.map